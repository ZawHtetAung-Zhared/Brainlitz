<div *ngIf="goBackCat" (scroll)="onScroll($event)">
	<div class="inner-wrapper">
		<header>
		    <div class="header-wrap">
				<div [ngClass]="{'stickywrap' : navIsFixed == true}">
				    <div class="display-style">
						<div class="col-md-4 ul-pad">
							<button type="button" class="back-modal" (click)="back()"> < Pick Category</button>
						</div>	
						<div class="col-md-4 title-mr display-style">
							<p>#{{checkedName}}</p><span class="sticky-dot">&#183;</span>		
							<h5>Course plan</h5>
				    	</div>
				    	<div class="col-md-4" style="padding: 0;">
					    	<!-- <div [hidden]="!createButton">
					    		<button type="submit" class="btn btn-not-allowed sticky-create" (click)="createdPlan(subCatForm.value)" [disabled]="!subCatForm.valid || timeInminutes == undefined || timeInminutes == 0">Create</button>
					    	</div> -->
					    	<button type="button" class="btn sticky-cancel" (click)="cancel()">Cancel</button>
				    	</div>
				  	</div>
				</div>
		    </div>
		</header>
	</div>
	<div> 
		<form #subCatForm="ngForm" novalidate>
			<div class="sticky-menu" [ngClass]="{'sticky' : navIsFixed == true}">
			    <div class="display-style">
					<div class="col-md-4 ul-pad">
						<button type="button" class="back-modal" (click)="back()"> < Pick Category</button>
					</div>	
					<div class="col-md-4 title-mr display-style">
						<p>#{{checkedName}}</p><span class="sticky-dot">&#183;</span>		
						<h5>Course plan</h5>
			    	</div>
			    	<div class="col-md-4" style="padding: 0;">
				    	<div [hidden]="!createButton">
				    		<button type="submit" class="btn btn-not-allowed sticky-create" (click)="createdPlan(subCatForm.value)" [disabled]="!subCatForm.valid || timeInminutes == undefined || timeInminutes == 0">Create</button>
				    	</div>
				    	<button type="button" class="btn sticky-cancel" (click)="cancel()">Cancel</button>
			    	</div>
			  	</div>
			</div>
			<div>
				<div class="col-md-12 progress-box-wrap" style="padding: 30px;">
					<ol class="progress" data-steps="8">
					    <li class="active">
					        <span class="step">
					        	<span>1</span>
					        </span>
					    </li>
					    <li>
					        <span class="step">
					        	<span>2</span>
					        </span>
					    </li>
					    <li>
					        <span class="step">
					        	<span>3</span>
					        </span>
					    </li>
					    <li>
					        <span class="step">
					        	<span>4</span>
					        </span>
					    </li>
					    <li>
					        <span class="step">
					        	<span>5</span>
					        </span>
					    </li>
					    <li>
					        <span class="step">
					        	<span>6</span>
					        </span>
					    </li>
					    <li>
					        <span class="step">
					        	<span>7</span>
					        </span>
					    </li>
					</ol>
				</div>
				<div class="inner-wrapper">
					<div class="col-md-12 ">
						<h5 class="all-title-font">Plan information</h5>
					</div>
				</div>
			</div>
		<!-- 	<div class="all-box-lt">
				<div class="display-style">
					<div class="col-md-6">
						<label for="course_name" class="all-title-font">Plan name</label>
						<input class="form-control br-bshadow-none all-left-box-10" type="text" [(ngModel)]='formField.name' name="coursename" placeholder="Type plan name here" #cpName="ngModel" required>
						<div class="mr-top">
							<label for="seat" class="all-title-font">Seats</label>
							<input type="number" placeholder="0" class="form-control br-bshadow-none all-left-box-10" (keypress)="numberOnly($event, 'seats')" [(ngModel)]='formField.seats' min="0" name="seats" required #cpSeat="ngModel"> 
						</div> 
					</div>
					<div class="col-md-6">
						<label style="padding-left: 10px;" for="desc" class="all-title-font">Description</label>
						<textarea class="form-control br-bshadow-none" rows="7" [(ngModel)]='formField.description' name="description" #cpDesc="ngModel" placeholder="Type message here" required></textarea>
					</div> 
				</div>
				<div class="col-md-12">
					<label for="makeup_policy" class="title-color">Makeup policy</label>
						<div class="radio-pos" style="left: 230px;">
							<label class="switch">
								<input type="checkbox" [(ngModel)]='formField.makeupPolicy.allowMakeupPass' name="allowmakeup" #makeupcheck="ngModel" >
								<span class="slider round" [ngClass]="{'activeRadio': formField.makeupPolicy.allowMakeupPass == true}"></span>
							</label>
						</div>	
						<div class="display-style">
							<div class="col-md-6" style="padding: 0;">
								<label class="all-title-font"> Validation duration after class </label>
								<div class="inner-div-pad">
									<input type="number" class="form-control all-left-box-10 br-bshadow-none" (keypress)="numberOnly($event, 'makeupDuration')" [(ngModel)]='formField.makeupPolicy.maxDayPerPass' min="0" id="makeupass" name="makeuppass" #makeuppass="ngModel" placeholder="0 day" required>
								</div>
							</div>
							<div class="col-md-6" style="padding-right: 0;">
								<label class="all-title-font" style="padding-left: 10px;"> Number of days per user </label>
								<div>
									<input type="number" class="form-control br-bshadow-none" (keypress)="numberOnly($event, 'makeupUser')" [(ngModel)]="formField.makeupPolicy.maxPassPerUser" min="0" id="makeupuser" name="makeupuser" placeholder="0 day" #makeupuser="ngModel" required>
								</div>
							</div>
						</div>
				</div>
				<div class="col-md-12 mr-top">
					<label for="payment_policy" class="title-color">Payment policy</label>
					<div class="display-style">
						<div class="col-md-3" style="padding: 0;">
							<label class="all-title-font">Deposit</label>
							<div class="inner-div-pad">
								<select class="form-control br-bshadow-none all-left-box-10" name="deposit" [(ngModel)]="depositModel" required>
									<option [value]="'disabledDeposit'" disabled="true">S$ 0</option>
									<option *ngFor="let deposit of depositLists" value="{{deposit._id}}">S$ {{deposit.amount}}</option>
								</select>
								<i class="fa fa-chevron-down down-arrow1"></i>
							</div>
						</div>
						<div class="col-md-3">
							<label class="all-title-font" style="padding-left: 10px;"> Course fee </label>
							<div class="inner-divleft-pad">
								<label class="sr-only" for="inlineFormInputGroupcourseFee">0</label>
								<div class="input-group mb-2 mr-sm-2">
								    <div class="input-group-prepend">
								      <div class="input-group-text cfee-bg">S$</div>
								    </div>
								    <input type="number" class="form-control" id="inlineFormInputGroupcourseFee" (keypress)="numberOnly($event, 'courseFee')" (click)='toKnowFocus("cFee")' [(ngModel)]="formField.paymentPolicy.courseFee" min="0" placeholder="0" name="courseFee" #courseFee="ngModel" required>
								</div>
							</div>
						</div>
					
						<div class="col-md-3">
							<label class="all-title-font" style="padding-left: 10px;"> Miscellaneous fee </label>
						    <div class="inner-divleft-pad">
						    	<label class="sr-only" for="inlineFormInputGroupmisFee">0</label>
								<div class="input-group mb-2 mr-sm-2">
								    <div class="input-group-prepend">
								      <div class="input-group-text misfee-bg">S$</div>
								    </div>
								    <input type="number" class="form-control" id="inlineFormInputGroupmisFee" (click)='toKnowFocus("misFee")' (keypress)="numberOnly($event, 'miscelFee')" placeholder="0" [(ngModel)]="formField.paymentPolicy.miscFee" min="0" name="miscFee" #miscfee="ngModel" required>
								</div>
						    </div>
						</div>
						<div class="col-md-3">
							<label class="all-title-font">Prorate class fee</label> <br />
							<div class="radio-pos-payment">
								<label class="switch">
									<input type="checkbox" [(ngModel)]="formField.paymentPolicy.allowProrated" min="0" name="allowProrated" #allow="ngModel">
									<span class="slider round" [ngClass]="{'activeRadio': formField.paymentPolicy.allowProrated == true}"></span>
								</label>
							</div>	
						</div>
					</div>
				</div>
				<div class="col-md-12 mr-top">
					<label for="age" class="title-color">Age <span class="optional-dot">&#183;</span><span class="optional-pos">Optional</span></label>
					<div class="display-style">
						<div class="col-md-6" style="padding: 0;">
							<label class="all-title-font"> From </label>
							<div class="inner-div-pad">
								<input type="number" placeholder="0 year" class="form-control br-bshadow-none all-left-box-10" (keypress)="numberOnly($event, 'ageFrom')" [(ngModel)]="formField.age.min" (input)="restrictMaxNumberInput($event, maxData, 'age')" min="1" id="age" name="minage" #minData="ngModel">
							</div>
						</div>
					 	<div class="col-md-6" style="padding-right: 0;">
					 		<label class="all-title-font" style="padding-left: 10px;"> to </label>
					 		<div>
					 			<input type="number" placeholder="0 year" class="form-control br-bshadow-none" (keypress)="numberOnly($event, 'ageTo')" [(ngModel)]="formField.age.max" min="1" (input)="restrictMinNumberInput($event, minData, 'age')" id="age" name="maxage" #maxData="ngModel">
					 		</div>
					 	</div>
					</div>
				</div>
				<div class="col-md-12 mr-top">
					<label for="duration" class="title-color">Lesson</label>
					<div class="display-style">
						<div class="col-md-3" style="padding: 0;">
							<label class="all-title-font"> Minimum </label>
							<div class="inner-div-pad">
								<input type="number" placeholder="0 lesson" class="form-control br-bshadow-none all-left-box-10" (keypress)="numberOnly($event, 'lessmin')" [(ngModel)]="formField.lesson.min" min="1" (input)="restrictMaxNumberInput($event, maxLesson, 'lesson')" name="minDuration" #minLesson="ngModel" required>
							</div>
						</div> 
						<div class="col-md-3">	
							<label class="all-title-font" style="padding-left: 10px;"> Maximum </label>
							<div class="inner-divleft-pad">
								<input type="number" placeholder="0 lesson" class="form-control br-bshadow-none" (keypress)="numberOnly($event, 'lessmax')" [(ngModel)]="formField.lesson.max" min="1" (input)="restrictMinNumberInput($event, minLesson, 'lesson')" name="maxDuration" #maxLesson="ngModel" required>
							</div>
						</div>
						<div class="col-md-3">
							<label class="all-title-font" style="padding-left: 10px;"> Duration </label>
							<input type="number" placeholder="{{readyOnlyRange}}" class="form-control br-bshadow-none hoverReadonly" [(ngModel)]='formField.lesson.duration' min="1" id="duration" name="lesson_duration" readonly #durationLesson="ngModel" (click)="durationProgress($event)" style="background: none;">
							<div class="bg-box duration-progress">
								<div id="rectangle"></div>
								<div class="gap-box">
									<label>
										<div class="col-md-4 max-range">{{rangeHr}} hr</div>
										<input class="max-range-box" type="range" id="hrDuration" name="pointsHr" min="0" max="24" (input)="ChangedRangeValue($event.target.value, 'hr')" [(ngModel)]="rangeHr">
									</label>
								</div>
								<div class="gap-range-min">
									<label>
										<div class="col-md-4 min-range">{{rangeMin}} min</div>
										<input class="min-range-box" type="range" id='minDuration' name="pointsMin" min="0" max="60" step="1" (input)="ChangedRangeValue($event.target.value, 'min')" [(ngModel)]="rangeMin" [disabled]="overDurationHr">	
										 <p *ngIf="overDurationHr" class="alert-duration">Lesson Duration has only 24 hr, so can not choose minute. </p>				
									</label>
								</div>

							</div>
						</div>	
					</div>
				</div>
				<div class="col-md-12 mr-top">
					<label for="allowpw" class="title-color">Pagewerkz book</label>
					<div class="radio-pos left-gap">
						<label class="switch">
							<input type="checkbox" [(ngModel)]='formField.allowPagewerkzBooks' id="allowpw" name="allowpagewerkz">
							<span class="slider round" [ngClass]="{'activeRadio': formField.allowPagewerkzBooks == true}"></span>
						</label>
					</div>	
				    	<drag-scroll class="drag-wrapper">
				    		<div *ngFor="let pdf of pdfList; let i=index;" class="book-range">
				    			<label for="{{pdf._id}}" class="book-label" [ngClass]="{'drag-active-bg': pdfId.indexOf(pdf._id) != -1}">
									<img drag-scroll-item src="{{pdf.cover}}" width="150" height="200" style="margin-bottom: 10px;">
									<input type="checkbox" id="{{pdf._id}}" value="{{pdf._id}}" (click)="ChangeValue(pdf._id,$event, 'pdf')" name="pdf" [checked]="pdfId.indexOf(pdf._id) != -1">
					    			<div class="book-name">{{pdf.name}}</div>
								</label>
					    	</div>
						</drag-scroll>				
				</div> 
				<div class="col-md-6" style="clear: both; padding-top: 25px;">
					<label class="all-title-font">Holiday Calendar</label>
					<select class="form-control br-bshadow-none all-left-box-10" name="holidayCalendar" [(ngModel)]="formField.holidayCalendarId" style="font-size: 16px;">
						<option disabled="true" [value]="'disabledHoliday'">None</option>
						<option *ngFor="let holidayCalendar of holidayCalendarLists" [value]="holidayCalendar._id">{{holidayCalendar.name}}</option>
					</select>	
					 <i class="fa fa-chevron-down down-arrow2"></i>			
				</div>
			</div> -->
		</form>		
	</div>
<block-ui message="Deafult Message"></block-ui>

</div>
