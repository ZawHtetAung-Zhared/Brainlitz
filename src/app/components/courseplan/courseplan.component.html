<button class="btn btn-lg btn-outline-primary" (click)="open(content)">Course Plan</button>

<ng-template #content let-c="close" let-d="dismiss">
	<div *ngIf="showModal == true">
		<form #mainCatForm="ngForm" novalidate>
			<div class="modal-header">
			    <h4 class="modal-title">Choose Course Plan</h4>
			    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
			      <span aria-hidden="true">&times;</span>
			    </button>
			</div>
		  	<div class="modal-body">
		    	<ul *ngIf="showLoading != true">
				    <li *ngFor="let cate of courseCategories">
					    <div class="col-md-4 fl-rt">
					    	<input type="radio" id="{{cate._id}}" [(ngModel)]='checked' (click)="checkedData(cate._id)" name="cate" value="{{cate.name}}">
					    	<label for="{{cate._id}}" class="limit-text">{{cate.name}}</label>
					    </div>
					</li>
				</ul>
				<div *ngIf="showLoading == true" id="floatingCirclesG" >
					<div class="f_circleG" id="frotateG_01"></div>
					<div class="f_circleG" id="frotateG_02"></div>
					<div class="f_circleG" id="frotateG_03"></div>
					<div class="f_circleG" id="frotateG_04"></div>
					<div class="f_circleG" id="frotateG_05"></div>
					<div class="f_circleG" id="frotateG_06"></div>
					<div class="f_circleG" id="frotateG_07"></div>
					<div class="f_circleG" id="frotateG_08"></div>
				</div>
		  	</div>
		  	<div class="modal-footer">
		    	<button type="button" class="btn btn-danger" (click)="c('Close click')">Cancel</button>
		    	<button type="submit" class="btn btn-primary" [disabled]="!checked" (click)="selectedRadioId(checkedCatId)">Select</button>
		  	</div>
		</form>
	</div>
	<div *ngIf="showsubModal == true">
		<form #subCatForm="ngForm" novalidate>
			<div class="modal-header">
				<button type="button" class="back-modal" (click)="back()">Back</button>
			    <h4 class="modal-title">{{checkedName}}</h4>
			    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
			      <span aria-hidden="true">&times;</span>
			    </button>
			</div>
			<div class="modal-body all-box-lt">
				<div class="col-md-12 fields-mr">
					<label for="course_name">Course Name</label>
					<input class="form-control" type="text" [(ngModel)]='coursename' name="coursename" required>
				</div>
				<div class="col-md-12 fields-mr">
					<label for="desc">Description</label>
					<textarea class="form-control" rows="4" [(ngModel)]='description' name="description" required></textarea>
				</div>
				<div class="col-md-12 fields-mr makeup-group">
					<label for="seat">Seats</label>
					<input type="number" style="width: 19%;" class="form-control" [(ngModel)]="seatCount" min="0" id="seat" name="seats" required>
				</div>
				<div class="col-md-12 fields-mr">
					<label for="makeup_policy">MakeupPolicy</label>
					<div class="col-md-12 makeup-group">
						<div class="col-md-4">
							AllowMakeupPass<br /><input type="checkbox" [(ngModel)]="allowMakeup" id="allowmakepass" name="allowmakeup" required>
						</div>
						<div class="col-md-4">
							MaxDayPerPass <input type="number" class="form-control" class="form-control" [(ngModel)]="makeupPass" min="0" id="makeupass" name="makeuppass" required>
						</div>
						<div class="col-md-4">
							MaxDayPerUser <input type="number" class="form-control" class="form-control" [(ngModel)]="makeupUser" min="0" id="makeupuser" name="makeupuser" required>
						</div>
					</div>
				</div>
				<div class="col-md-12 fields-mr">
					<label for="payment_policy">PaymentPolicy</label>
					<div class="col-md-12 makeup-group">
						<div class="col-md-4">
							AllowProrated <br /><input type="checkbox" [(ngModel)]="allowProrated" min="0" name="allowProrated" required>
						</div>
						<div class="col-md-4">
							Deposit
							<select class="form-control" required>
								<option></option>
								<option *ngFor="let deposit of depostiId">{{deposit.id}}</option>
							</select>
						</div>
						<div class="col-md-4">
							CourseFee <input type="number" class="form-control" class="form-control" [(ngModel)]="courseFee" min="0" name="courseFee" required>
						</div>
					</div>
					<div class="col-md-12 makeup-group">
						<div class="col-md-4">
							ProratedLessonFee <input type="number" class="form-control" [(ngModel)]="proratedLessonFee" min="0" name="proratedLessonFee" required>
						</div>
						<div class="col-md-4">
							MiscFee <input type="number" class="form-control" [(ngModel)]="miscFee" min="0" name="miscFee">
						</div>
					</div>
				</div>
				<div class="col-md-12 fields-mr">
					<label for="age">Age</label>
					<div class="col-md-12 makeup-group">
						<div class="col-md-4">
							From <input type="number" class="form-control" [(ngModel)]="minAge" min="0" id="age" name="minage" required>
						</div>
					 	<div class="col-md-4">
					 		to <input type="number" class="form-control" [(ngModel)]="maxAge" min="1" id="age" name="maxage" required>
					 	</div>
					</div>
				</div>
				<div class="col-md-12 fields-mr">
					<label for="duration">Lesson</label>
					<div class="col-md-12  makeup-group">
						<div class="col-md-4">
							Min <input type="number" class="form-control" [(ngModel)]="minDuration" min="0" name="minDuration" required>
						</div> 
						<div class="col-md-4">
							Max <input type="number" class="form-control" [(ngModel)]="maxDuration" min="1" name="maxDuration" required>
						</div>
						<div class="col-md-4">
							Lesson Duration <input type="number" class="form-control" [(ngModel)]='lessonDuration' min="1" id="duration" name="lesson_duration" required>
						</div>	
					</div>
				</div>
				<div class="col-md-12 fields-mr">
					<label for="allowpw">Allow Pagewerkz Books</label>
					<input type="checkbox" [(ngModel)]='allowchecked' id="allowpw" name="allowpagewerkz" required>
				</div>
			</div>
			<div class="modal-footer">
		    	<button type="button" class="btn btn-danger" (click)="c('Close click')">Cancel</button>
		    	<button type="submit" class="btn btn-primary" [disabled]="!subCatForm.valid" (click)="createdPlan(subCatForm.value)">Create</button>
		  	</div>
		</form>
	</div>
</ng-template>


<div class="overflow">
		<ul class="list-group-flush">  
		  <li id="{{courseplan._id}}" class="list-group-item" *ngFor="let courseplan of courseplanLists; let i = index" [attr.data-index]="i">
			{{i + 1}}-{{ courseplan.name }} 
			
			<button type="button" class="btn btn-secondary float-right btn-sm margin-left" (click)="deleteLocation(location._id)">Delete</button>
		  </li>
		</ul>
	  </div>

