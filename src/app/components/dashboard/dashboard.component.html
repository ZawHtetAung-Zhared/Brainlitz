<app-header [ngClass]="{'stick' : navIsFixed == true}"></app-header>
<div class="d-flex flex-row h-100 w-100 content-wrapper" [ngClass]="{'p-top' : navIsFixed == true}">
    <div class="col-md-2 noti-sidebar h-100"  style="width: 16.666667%">
      <div class="side-bar-wrap">
        <div [ngClass]="{'active': menuType == 'location'}" class="tab-wrap">      
          <button class="btn noti-tab w-100" (click)="clickTab('location')">Locations</button>
        </div>
        <div [ngClass]="{'active': menuType == 'admin'}" class="tab-wrap">      
          <button class="btn noti-tab w-100" (click)="clickTab('admin')">General</button>
        </div>
        <!-- <div [ngClass]="{'active': menuType == 'module'}" class="tab-wrap">     
          <button class="btn noti-tab w-100" (click)="clickTab('module')">Module</button>
        </div> -->
        <div [ngClass]="{'active': menuType == 'apg'}" class="tab-wrap">      
          <button [disabled]="emptyModule" class="btn noti-tab w-100" (click)="clickTab('apg')">APG</button>
        </div>
        <div [ngClass]="{'active': menuType == 'template'}" class="tab-wrap">      
          <button [disabled]="emptyModule" class="btn noti-tab w-100" (click)="clickTab('template')">Template</button>
        </div>
      </div>
    </div>
    <div *ngIf="menuType == 'admin'" class="col-md-10" >
      <div class="d-flex flex-column w-100 h-100 inner-wrapper">
        <div>
          <h3 class="general">General</h3>
          <div class="card-columns">
            <div class="card card-wrap">
              <div class="title">
                Regional Settings
              </div>
              <div class="region-info">
                <div>
                  <div>
                    <span class="social-links">
                      <a>
                        <img src="./assets/images/map.png">
                      </a>
                    </span>
                    <label class="labelTitle">Region name</label>
                  </div>
                  <label class="labelName">{{admin.name}}</label>
                </div>
                <div class="timezone-wrap" *ngIf="!isEdit">
                  <div>
                    <span class="social-links">
                      <a>
                        <img src="./assets/images/time_zone.png">
                      </a>
                    </span>
                    <label class="labelTitle">Time zone</label>
                  </div>
                  <div class="picker-wrap">
                    <ng2-timezone-picker class="newpick"
                    [(timezone)]="item.timezone" 
                    showOffset="true">
                    </ng2-timezone-picker>
                  </div>
                </div>
                <div class="timezone-wrap" *ngIf="isEdit">
                  <div>
                    <label class="labelTitle">Time zone</label>
                  </div>
                  <div>
                    <ng2-timezone-picker class="editTimezone"
                    [(timezone)]="item.timezone" 
                    showOffset="true">
                    </ng2-timezone-picker>
                  </div>
                </div>
              </div>
              <div *ngIf="!isEdit">
                <a class="link-btn" (click)="editRegion()">Edit</a>
              </div>
              <div class="editBtns" *ngIf="isEdit">
                <a class="cancel" (click)="cancelUpdate()">Cancel</a>
                <a (click)="updateRegionalInfo(item,'timezone')">Done</a>
              </div>
            </div>  
            <div class="card card-wrap">
              <div class="title">
                App Settings
              </div>
              <div class="setting-info">
                <div class="link-wrap">
                  <div>
                    <span class="social-links">
                      <a>
                        <img src="./assets/images/home.png">
                      </a>
                    </span>
                    <label class="labelTitle">Home page URL</label>
                    <span class="urlEdit"><a (click)="editUrl()">Edit</a></span>
                  </div>
                  <label class="labelName">{{admin.url}}</label>
                </div>
                <div class="timezone-wrap">
                  <div>
                    <span class="social-links">
                      <a>
                        <img src="./assets/images/filter.png">
                      </a>
                    </span>
                    <label class="labelTitle">Widget type visibility</label>
                  </div>
                  <div class="module-container">
                    <app-module></app-module>
                  </div>
                </div>
              </div>
            </div> 
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="menuType == 'location'" class="col-md-10 pl-zero">
      <app-location></app-location>
    </div> 
    <!-- <div *ngIf="menuType == 'module'" class="col-md-10 min-scroll">
      <app-module></app-module>
    </div>   -->
    <div *ngIf="menuType == 'apg'" class="col-md-10 min-scroll">
        <div class="d-flex flex-column w-100 h-100 inner-wrapper">
          <div class="mb-30">
            <app-apg></app-apg>
          </div>
        </div>    
    </div> 
    <div *ngIf="menuType == 'template'" class="col-md-10 min-scroll">
        <div class="d-flex flex-column w-100 h-100 inner-wrapper">
          <div class="mb-30">
            <h2>Template</h2>
            <app-template></app-template>            
          </div>
        </div>    
    </div>   
</div>
<block-ui message="Deafult Message"></block-ui>