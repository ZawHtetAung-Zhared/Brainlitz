<h3 class="grade-title">
  Grade name
</h3>
<div class="form-group grade-name">
  <input
    type="text"
    class="form-control create-input w-100"
    placeholder="Type Grade name here"
    name="name"
    maxlength="60"
    [(ngModel)]="userGradeData.name"
    required
    #name="ngModel"
  />
</div>

<div class="d-flex flex-column" *ngIf="userGradeData != undfined">
  <h4 class="grade-title">Level</h4>
  <div
    class="d-flex level-wrapper"
    *ngFor="let grade of userGradeData.data.grades; let i = index"
  >
    <div class="d-flex align-items-center">
      <div
        class="grade-icon d-flex justify-content-center align-items-center"
        [style.background]="userGradeData.data.color.background"
        (click)="colorpalettePopUp(i, $event)"
        [ngStyle]="{
          width: grade.point && grade.point.length > 1 ? '32px' : '24px'
        }"
      >
        <span [style.color]="userGradeData.data.color.text" class="grade-point">
          {{ grade.point }}</span
        >
      </div>
      <div class="pl-2 down-icon">
        <img
          src="../.././../../assets/icons/popup.svg"
          alt=""
          (click)="colorpalettePopUp(i, $event)"
        />
      </div>
    </div>
    <div class="flex-grow-1 d-flex grade-name-wrapper ml-3">
      <div class="w-100">
        <input
          type="text"
          class="form-control create-input m-0"
          placeholder="Type level name here"
          name="name"
          maxlength="60"
          [(ngModel)]="grade.name"
          #name="ngModel"
        />
      </div>
      <div class="remove-icon" *ngIf="userGradeData.data.grades.length > 1">
        <img
          src="../../../../assets/icons/clear.svg"
          alt=""
          (click)="removeLevel(i)"
        />
      </div>
    </div>
  </div>
  <div class="add-new-lvl" (click)="addLevel()">
    Add new level
  </div>
</div>

<div class="btn-wrapper">
  <button class="btn  btn-cancel">Cancel</button>
  <button class="btn btn-submit" (click)="createUserGradeApg(userGradeData)">
    Create
  </button>
</div>

<div
  id="colorPletteBox"
  *ngIf="showPopUp"
  [ngStyle]="{ top: colorPopUpX, left: colorPopUpLeft }"
  (clickOutside)="closePopUp($event)"
>
  <div
    class="carret-box"
    [ngClass]="arrClasses"
    [ngStyle]="colorArrClasses"
  ></div>
  <div class="input-section">
    <p class="pb-0 mb-0">2 characters max</p>
    <input
      type="text"
      class="lvl-name-input"
      maxlength="2"
      (focus)="onFocus()"
      (focusout)="onFocusOut()"
      [(ngModel)]="gradeName"
      #gradename="ngModel"
    />
    <button
      class="btn apply-btn"
      [ngClass]="{ 'focus-background': isFocus }"
      (click)="applyGradeName()"
    >
      Apply
    </button>
  </div>
  <p class="color-title mb-0 pb-0">Color</p>
  <div class="color-section d-flex flex-wrap">
    <div
      class="color-circle"
      *ngFor="let color of blockColors"
      [style.background]="color.color.background"
      [ngClass]="{ addBorder: color.name == selectedColor.name }"
      (click)="selectedColor = color"
    ></div>
  </div>
</div>
