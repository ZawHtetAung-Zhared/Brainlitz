<h3 class="pd-lft-15">Staff Performance</h3>
<div class="pd-lft-15 report-content">
  <div class="row">
  <div class="report-time-range d-flex flex-column col-md-4">
    <div class="rpt-input-title">
      Time
    </div>
    <div style="padding-top: 15px">

      <!--<input name="reportTimeRange" placeholder="Hola" style="width:360px" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">-->
      <!--<ngb-datepicker #dp (select)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden">-->
      <!--</ngb-datepicker>-->


    </div>
  </div>
  <div class="report-location-input d-flex flex-column col-md-8">
    <div class="rpt-input-title">
      Group by
    </div>
    <div style="padding-top: 15px">
      <select id="staffGroupBy" class="form-control" name="staffGroupBy" (change)="updateGraphUsingGroupBy($event)">
        <option [selected]="0" *ngFor="let staffGroupBy of staffGroupByList; let i = index" value="{{staffGroupBy}}">{{
          staffGroupBy }}
        </option>
      </select>
    </div>
  </div>
  </div>
  <div class="d-flex flex-column w-100 h-100" style="box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);margin-top: 15px;" id="testDiv">
    <div style="padding:15px;">
      <button class="btn btn-filter" (click)="showFilterModal(filterFields)">Filter Fields</button>
    </div>
    <div class="rpt-content">
      <div *ngFor="let reportItem of reportData; let i = index" class="row">
        <div class="col-md-4" style="min-height:175px;padding-top:15px;position:relative;">
          <div style="font-size: 20px;font-weight: 600;color:#2e3d4d;">{{reportItem.location}}</div>
          <div class="d-flex half">
          <h3 style="margin: 0;font-family: Montserrat-Medium;color:#64707d;">{{reportItem.averageRating}}</h3>
          <div style="display: block;">
            <star-rating-comp [readOnly]="true" [starType]="'svg'"
                              [rating]="reportItem.averageRating"></star-rating-comp>
            <div class="average-rating-font">{{reportItem.totalRating}} <span *ngIf="reportItem.totalRating > 1">ratings</span><span
              *ngIf="reportItem.totalRating == 1">rating</span></div>
          </div>
          </div>
          <div style="position:absolute;bottom:0;width:calc(100% - 15px);border:1px dashed#788796;"></div>
        </div>

        <div class="col-md-8">
          <div id={{reportItem.id}} style="width:100%;height:100%;" ></div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #filterFields let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h3 class="modal-title " id="modal-basic-title">Filter Fields</h3>
    <button type="button" class="close" aria-label="Close" (click)="modalReference.close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="slt-rpt-filter rpt-input-title">Select Filter</div>
    <div class="pd-top-15">
      <select id="filterType" class="form-control" name="filterType" (change)="updateFilterType($event)">
        <option [selected]="0" *ngFor="let filter of filterList; let i = index" value="{{filter}}">{{
          filter }}
        </option>
      </select>
    </div>
    <div class="input-group col-md-12" style="padding:15px 0;">
      <input
        class="form-control py-2 input-search-bg"
        type="search"
        placeholder="Search customer here"
        id="customer-search-input"
        (focusout)="clearSearch($event)"
        (input)="filterSearch($event.target.value)"
        autocomplete="off"
      >
		    <span class="input-group-append">
		        <button class="bt btn-design btn-outline-secondary" type="button">
		            <i class="fa fa-search search-size"></i>
		        </button>
		     </span>
    </div>
  </div>

</ng-template>
