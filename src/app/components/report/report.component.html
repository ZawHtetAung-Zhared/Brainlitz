<app-header [ngClass]="{ stick: navIsFixed == true }"></app-header>
<div class="d-flex flex-row h-100 w-100 content-wrapper">
  <div class="noti-sidebar h-100">
    <div
      *ngIf="reportPermission.length != 0"
      class="side-bar-wrap"
      [ngClass]="{ 'p-top': navIsFixed == true, 'mid-top': isMidStick == true }"
    >
      <div
        [ngClass]="{ 'active bg-b100': reportType == 'invoiceReport' }"
        class="tab-wrap"
      >
        <button
          class="btn noti-tab w-100 body-l"
          [ngClass]="reportType != 'invoiceReport' ? 'text-c300' : 'text-s0'"
          (click)="reportType = 'invoiceReport'"
        >
          <div class="d-flex">
            <span class="btnSpan">
              <img
                *ngIf="reportType == 'invoiceReport'"
                src="./assets/icons/2stroke_invoiceActive.svg"
              />
              <img
                *ngIf="reportType != 'invoiceReport'"
                src="./assets/icons/2stroke_invoice.svg"
              />
            </span>
            <span class="span-label">Invoice reports</span>
          </div>
        </button>
      </div>
      <div
        [ngClass]="{ 'active bg-b100': reportType == 'averageRating' }"
        class="tab-wrap"
      >
        <button
          class="btn noti-tab w-100 body-l"
          [ngClass]="reportType != 'averageRating' ? 'text-c300' : 'text-s0'"
          (click)="reportType = 'averageRating'"
        >
          <div class="d-flex">
            <span class="btnSpan">
              <img
                class="setting-icon"
                *ngIf="reportType == 'averageRating'"
                src="./assets/images/sidebar-average-ratings_a.svg"
              />
              <img
                class="setting-icon"
                *ngIf="reportType != 'averageRating'"
                src="./assets/images/sidebar-average-ratings@2x.png"
              />
            </span>
            <span class="span-label">Average ratings</span>
          </div>
        </button>
      </div>
      <div
        [ngClass]="{ 'active bg-b100': reportType == 'staffPerformance' }"
        class="tab-wrap"
      >
        <button
          class="btn noti-tab w-100 body-l"
          [ngClass]="reportType != 'staffPerformance' ? 'text-c300' : 'text-s0'"
          (click)="reportType = 'staffPerformance'"
        >
          <div class="d-flex">
            <span class="btnSpan">
              <img
                class="setting-icon"
                *ngIf="reportType != 'staffPerformance'"
                src="./assets/images/sidebar-general@2x.png"
              />
              <img
                class="setting-icon"
                *ngIf="reportType == 'staffPerformance'"
                src="./assets/images/sidebar-general.svg"
              />
            </span>
            <span class="span-label">Staff performance</span>
          </div>
        </button>
      </div>
      <div
        [ngClass]="{ 'active bg-b100': reportType == 'courseActivities' }"
        class="tab-wrap"
      >
        <button
          class="btn noti-tab w-100 body-l"
          [ngClass]="reportType != 'courseActivities' ? 'text-c300' : 'text-s0'"
          (click)="reportType = 'courseActivities'"
        >
          <div class="d-flex">
            <span class="btnSpan">
              <img
                class="setting-icon"
                *ngIf="reportType != 'courseActivities'"
                src="./assets/images/sidebar-location@2x.png"
              />
              <img
                class="setting-icon"
                *ngIf="reportType == 'courseActivities'"
                src="./assets/images/sidebar-location.svg"
              />
            </span>

            <span class="span-label">Course activities</span>
          </div>
        </button>
      </div>
      <div
        [ngClass]="{ 'active bg-b100': reportType == 'studentEnrollment' }"
        class="tab-wrap"
      >
        <button
          class="btn noti-tab w-100 body-l"
          [ngClass]="
            reportType != 'studentEnrollment' ? 'text-c300' : 'text-s0'
          "
          (click)="reportType = 'studentEnrollment'"
        >
          <div class="d-flex">
            <span class="btnSpan">
              <img
                class="setting-icon"
                *ngIf="reportType != 'studentEnrollment'"
                src="./assets/images/profile@2x.png"
              />
              <img
                class="setting-icon"
                *ngIf="reportType == 'studentEnrollment'"
                src="./assets/images/profile.svg"
              />
            </span>
            <span class="span-label">Student enrollment</span>
          </div>
        </button>
      </div>
      <div
        [ngClass]="{ 'active bg-b100': reportType == 'monthlyActiveStudent' }"
        class="tab-wrap"
      >
        <button
          class="btn noti-tab w-100 body-l"
          [ngClass]="
            reportType != 'monthlyActiveStudent' ? 'text-c300' : 'text-s0'
          "
          (click)="reportType = 'monthlyActiveStudent'"
        >
          <div class="d-flex">
            <span class="btnSpan">
              <img
                class="setting-icon"
                *ngIf="reportType != 'monthlyActiveStudent'"
                src="./assets/images/profile@2x.png"
              />
              <img
                class="setting-icon"
                *ngIf="reportType == 'monthlyActiveStudent'"
                src="./assets/images/profile.svg"
              />
            </span>
            <span class="span-label">Monthly active students</span>
          </div>
        </button>
      </div>
      <div
        [ngClass]="{ 'active bg-b100': reportType == 'staffTeachingSchedule' }"
        class="tab-wrap"
      >
        <button
          class="btn noti-tab w-100 body-l"
          [ngClass]="
            reportType != 'staffTeachingSchedule' ? 'text-c300' : 'text-s0'
          "
          (click)="reportType = 'staffTeachingSchedule'"
        >
          <div class="d-flex">
            <span class="btnSpan">
              <img
                class="setting-icon"
                *ngIf="reportType != 'staffTeachingSchedule'"
                src="./assets/images/profile@2x.png"
              />
              <img
                class="setting-icon"
                *ngIf="reportType == 'staffTeachingSchedule'"
                src="./assets/images/profile.svg"
              />
            </span>
            <span class="span-label">Staff teaching schedule</span>
          </div>
        </button>
      </div>
    </div>
  </div>
  <div
    class="heading-margin d-flex justify-content-center no-padding large-col"
  >
    <!-- <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'averageRating'"
    >
      <div *ngIf="!showDetail" class="w-100">
        <div *ngIf="ratingLists.length == 0" class="txt-color-center">
          <h3 class="h1-strong text-c300">
            Don't have staff for this location.
          </h3>
        </div>
        <div *ngIf="ratingLists.length != 0">
          <div [ngClass]="{ sticky: isSticky == true }">
            <h3 class="pd-lft-15 h1-strong text-c300 mb-0">Average ratings</h3>
          </div>
          <div class="d-style pd-top-15">
            <div
              class="box-width"
              *ngFor="let staffRating of ratingLists; let i = index"
            >
              <div
                class="rating-box bg-s0"
                (click)="getFeedBack(staffRating.teacherId, staffRating)"
              >
                <div class="inner-box">
                  <div class="circular-image">
                    <img src="{{ staffRating.profilePic }}" />
                  </div>
                  <div class="teacher-average-font small text-c100">
                    <span>Staff</span>
                  </div>
                  <h5
                    class="h3-strong text-c300"
                    style="letter-spacing: 0.5px;"
                  >
                    {{ staffRating.preferredName }}
                  </h5>
                  <div class="wrap-rating d-flex flex-row">
                    <div class="d-flex half">
                      <h2 class="light-body-l text-c100" style="margin: 0;">
                        {{ staffRating.rating }}
                      </h2>
                      <div style="display: block;">
                        <star-rating-comp
                          [readOnly]="true"
                          [starType]="'svg'"
                          [rating]="staffRating.rating"
                        ></star-rating-comp>
                        <div class="average-rating-font small text-c100">
                          {{ staffRating.voter }}
                          <span *ngIf="staffRating.voter > 1">ratings</span
                          ><span *ngIf="staffRating.voter == 1">rating</span>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex wil">
                      <button class="detail-bg" type="button">
                        <i
                          class="fa fa-angle-right right-arrow text-s60 h1-strong"
                        ></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="showDetail">
        <div class="back-wrap d-flex justify-content-between">
          <div class="back-to body-l text-c300" (click)="back()">
            <i class="fa fa-angle-left body-xl text-c200"></i>
            <p>Average ratings</p>
          </div>
        </div>
        <div class="col-md-12 flex-show">
          <div class="col-md-6 flex-show left-side">
            <div>
              <div class="circular-image mr-top-right">
                <img src="{{ teacherProfile }}" />
              </div>
            </div>
            <div style="display: block;">
              <div class="teacher-detail-font body-l text-c100">Staff</div>
              <h4 class="teacher-name h1-strong text-c300">
                {{ teacherPreferredName }}
              </h4>
            </div>
          </div>
          <div class="col-md-6 right-side">
            <h3 class="head-rating-count h1-strong text-c100">
              {{ teacherRating }}
            </h3>
            <div style="display: block;">
              <star-rating-comp
                [readOnly]="true"
                [starType]="'svg'"
                [rating]="teacherRating"
              ></star-rating-comp>
              <div style="padding-left: 10px;" class="body-l text-c300">
                {{ teacherVote }} ratings
              </div>
            </div>
          </div>
        </div>

        <div
          class="col-md-12 card-columns"
          style="margin-top: 25px; padding-bottom: 150px;"
        >
          <div *ngFor="let detail of feedbackLists; let i = index">
            <div class="card card-wrap">
              <div class="header">
                <h5 class="body-xl text-s0">{{ detail.course.name }}</h5>
                <div class="body-l text-s0">
                  Room <span class="room-dot">&#183;</span>
                  {{ detail.course.room }}
                </div>
              </div>
              <div
                class="d-flex flex-row pos-gray-content"
                *ngFor="let detailVote of detail.feedbacks; let i = index"
              >
                <div class="pad-0" style="padding-right: 15px;">
                  <div class="circular-detail-image">
                    <img src="{{ detailVote.profilePic }}" />
                  </div>
                </div>
                <div
                  class="info-group pad-0 d-flex justify-content-between flex-row w-100"
                >
                  <div class="">
                    <div>
                      <p class="mr-0 body-m text-c300">
                        {{ detailVote.preferredName }}
                      </p>
                      <star-rating-comp
                        [readOnly]="true"
                        [starType]="'svg'"
                        [rating]="detailVote.rating"
                      ></star-rating-comp>
                    </div>
                    <p class="detail-message body-m text-c300">
                      {{ detailVote.message }}
                    </p>
                  </div>
                  <p class="detail-show-date small text-c300">
                    {{ detailVote.updatedDate }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div
        *ngIf="ratingLists.length >= 20 && !showDetail"
        class="d-flex justify-content-center load-more bg-s0"
      >
        <button
          class="btn body-m text-b100"
          (click)="showMore(ratingLists.length)"
        >
          load more
        </button>
      </div>
    </div> -->
    <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'averageRating'"
    >
      <app-average-ratings></app-average-ratings>
    </div>

    <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'invoiceReport'"
    >
      <app-invoice-report></app-invoice-report>
    </div>
    <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'staffPerformance'"
    >
      <staff-performance-report></staff-performance-report>
    </div>
    <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'courseActivities'"
    >
      <course-activities-report></course-activities-report>
    </div>
    <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'studentEnrollment'"
    >
      <student-enrollment-report></student-enrollment-report>
    </div>
    <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'monthlyActiveStudent'"
    >
      <monthly-active-std-report></monthly-active-std-report>
    </div>

    <div
      class="d-flex flex-column w-100 h-100 main-wrapper"
      *ngIf="reportType == 'staffTeachingSchedule'"
    >
      <staff-teaching-report></staff-teaching-report>
    </div>
  </div>
</div>
<block-ui message="Deafult Message"></block-ui>
