<div class="d-flex justify-content-center">
  <div class="main-wrapper mt-4">
    <form novalidate #createapgForm="ngForm">
      <div class="d-flex justify-content-between">
        <div class="back-to" (click)="goToBack()">
          <i class="fa fa-angle-left"></i>
          <p class="body-l text-c300">
            Creating user grading tracking module
          </p>
        </div>

        <!-- <a class="back-to" (click)="goToBack('share')">< Creating progress APG</a> -->
        <a class="cancel-back body-l text-c300" (click)="cancelapg()">Cancel</a>
      </div>
      <h3 class="mt-3 h1-strong text-c300">
        Shared user grading tracking module
      </h3>
      <div class="input-group w-100">
        <input
          class="form-control py-2 input-search-bg bg-s20"
          type="search"
          placeholder="Search tracking module"
          id="template-search-input"
          (input)="sharedApgSearch2($event.target.value, '', '')"
          (keyup.enter)="sharedApgSearch($event.target.value, '', '')"
          autocomplete="off"
        />
        <span class="input-group-append">
          <button
            class="btn btn-design btn-outline-secondary"
            type="button"
            (click)="sharedApgSearch(keyword, '', '')"
          >
            <i class="fa fa-search search-size"></i>
          </button>
        </span>
      </div>

      <div class="card-columns">
        <div
          *ngFor="let temp of templateList; let i = index"
          class="card card-wrap share-input "
        >
          <label
            class="form-check-label"
            [ngClass]="{ selected: sharechecked == temp._id }"
          >
            <div class="d-flex justify-content-between apgBoxHead">
              <span
                class="textapgType small text-c100"
                [ngClass]="{ selected: sharechecked == temp._id }"
                >{{ apgType }}</span
              >
              <div class="label-checked"></div>
            </div>

            <input
              class="form-check-input"
              type="radio"
              name="inlineRadioOptions"
              id="temp._id"
              value="{{ temp.name }}"
              (click)="chooseShareAPG(temp._id, temp.name)"
            />
            <span
              class="textTempName text-c300 body-l"
              [ngClass]="{ selected: sharechecked == temp._id }"
              >{{ temp.name }}</span
            >
            <div style="margin-top: 14px">
              <div>
                <div *ngFor="let accessPoint of temp.accessPoints">
                  <div
                    *ngFor="let grade of accessPoint.data.grades; let j = index"
                    class="d-flex"
                  >
                    <div
                      class="b-white justify-content-center d-flex"
                      [style.background]="
                        accessPoint.data.sepalColor.background
                      "
                      [ngClass]="{
                        'test-circle': grade.point.length == 1,
                        circle: grade.point.length > 1
                      }"
                    >
                      <span [style.color]="accessPoint.data.sepalColor.text">
                        {{ grade.point }}
                      </span>
                    </div>
                    <div
                      class="detail-line w-100"
                      [ngClass]="{
                        'hide-border': accessPoint.data.grades.length == j + 1
                      }"
                      style="margin-bottom: 16px"
                    >
                      <p
                        class="gradename body-m text-c300"
                        [ngClass]="{
                          'grade-selected': sharechecked == temp._id
                        }"
                      >
                        {{ grade.name }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </label>
        </div>
      </div>

      <div class="d-flex justify-content-end apg-share-bottom">
        <div class=" align-self-end ">
          <button
            [disabled]="
              sharechecked == null ||
              sharechecked == '' ||
              sharechecked == undefined
            "
            type="button"
            class="btn btn-submit bg-b100 text-s0"
            (click)="setShareAPG(temp)"
          >
            Create
          </button>
        </div>
      </div>
      <div class="d-flex justify-content-center shareApgLoadMore loadMore1">
        <div
          *ngIf="templateList.length >= 20 && result.length == 20"
          class="load-more1 bg-s0"
        >
          <button
            class="btn remove-outline body-m text-b100 "
            (click)="showMoreShareApg(templateList.length)"
          >
            load more
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
