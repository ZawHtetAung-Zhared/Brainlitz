<!-- <app-coursecreate></app-coursecreate> -->

<div class="inner-wrapper">
  <!-- <div class="mb-30">
    <button class="btn btn-lg btn-outline-primary bt-color" (click)="open(content)">+ Add new course plan</button>
  </div> -->
  <!-- <ngb-timepicker [(ngModel)]="time"></ngb-timepicker>
  <hr>
  <pre>Selected time: {{time | json}}</pre> -->
  <block-ui message="Deafult Message"></block-ui>
  <div class="scrollable">
    <div class="card-columns">
      <div class="card">
        <button class="btn btn-large" (click)="changeRoute()"><span>+</span> Add new course plan</button>
      </div>
      <div class="card card-wrap" *ngFor="let coursePlan of allCoursePlan">
        <div class="header">
          <div *ngFor="let category of allCategories">
            <label class="category" *ngIf="category._id == coursePlan.categoryId">
              #{{ category.name }}
            </label>
          </div>
          <h5>{{coursePlan.name}}</h5>
          <div class="header-info">
            {{coursePlan.seats}} seats
            <ul><li>{{ coursePlan.lesson.duration | minuteSeconds }} duration</li></ul>
          </div>
        </div>
        <div>
          <div *ngFor="let course of courseList">
            <div class="course-wrap" *ngIf="coursePlan._id == course.coursePlanId">
              <div class="date-wrap">
                <div>
                  From
                  <div>{{course.startDate | date}}</div>
                </div>
                <div>
                  To
                  <div>{{course.endDate | date}}</div>
                </div>
              </div>
              <div class="course-info">
                <div *ngFor="let location of allLocation">
                  <label *ngIf="location._id == course.locationId">{{ location.name}}</label>
                </div>
                <h5 class="course-label">{{course.name}}</h5>
              </div>
            </div>
          </div>
        </div>
        <div>
          <a [routerLink]="['/courseCreate']">Add new course</a>
        </div>
      </div>
    </div>
  </div>
</div> 


<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Are You sure you want to delete?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light1" (click)="c('Close click')">Cancel</button>
    <button type="submit" class="btn btn-danger" (click)="confirmDelete(selectCourse,content1)">Delete</button>
  </div>
</ng-template>

<ng-template #content1 let-c="close" let-d="dismiss">
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>We are going to delete <span style="color: red;">"{{deleteCourse.name}}"</span></p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light1" (click)="c('Close click')">Cancel</button>
    <button type="submit" class="btn btn-danger" (click)="courseDelete(deleteCourse._id)">Confirm</button>
  </div>
</ng-template>

<ng-template #detail let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4>Course Detail</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body course-view">
    <div>
      <label class="detail-label">Course Plan Name:</label> 
      <span>{{coursePlanName}}</span>
    </div>
    <div>
      <label class="detail-label">Course Name:</label> 
      <span>{{detailCourse.name}}</span>
    </div>
    <div>
      <label class="detail-label">Course Code:</label> 
      <span>{{detailCourse.courseCode}}</span>
      <span *ngIf="!detailCourse.courseCode"> - </span>
    </div>
    <div>
      <label class="detail-label">Description:</label> 
      <label>{{detailCourse.description}}</label>
      <label *ngIf="!detailCourse.description"> - </label>
    </div>
    <div>
      <label class="detail-label">Location:</label> 
      <span>{{locationName}}</span>
    </div>
    <div>
      <label class="detail-label">Start Date:</label> 
      <span>{{detailCourse.startDate}}</span>
    </div>
    <div>
      <label class="detail-label">End Date:</label> 
      <span>{{detailCourse.endDate}}</span>
      <span *ngIf="!detailCourse.endDate">-</span>
    </div>
    <div>
      <label class="detail-label">Duration:</label> 
      <span>{{detailCourse.durationTimes}}</span>
    </div>
    <div>
      <label class="detail-label">Repeated Days:</label> 
        <label *ngFor="let day of repeatDay;let isLast=last" class="repeatday">
          {{day}}{{isLast ? '' : ', '}}
        </label>
    </div>
    <div>
      <label class="detail-label">Lesson Count:</label> 
      <span>{{detailCourse.lessons.length}}</span>
    </div>
    <div>
      <label class="detail-label">Payment Policy</label> 
    </div>
    <div class="child">
      <label>Allow Prorated:</label> 
      <span>{{detailCourse.paymentPolicy.allowProrated}}</span>
    </div>
    <div class="child">
      <label>Course Fee:</label> 
      <span>{{detailCourse.paymentPolicy.courseFee}}</span>
    </div>
    <div class="child">
      <label>Deposit</label> 
      <span>{{detailCourse.paymentPolicy.deposit}}</span>
    </div>
    <div class="child">
      <label>Misc Fee:</label> 
      <span>{{detailCourse.paymentPolicy.miscFee}}</span>
    </div>
    <div class="child">
      <label>Prorated Lesson Fee:</label> 
      <span>{{detailCourse.paymentPolicy.proratedLessonFee}}</span>
    </div>
    <div>
      <label class="detail-label">Reserved Number of Seat:</label> 
      <span>{{detailCourse.reservedNumberofSeat}}</span>
      <span *ngIf="!detailCourse.reservedNumberofSeat"> - </span>
    </div>
    <div>
      <label class="detail-label">Room:</label> 
      <span>{{detailCourse.room}}</span>
      <span *ngIf="!detailCourse.room"> - </span>
    </div>
    <div>
      <label class="detail-label">Teacher Name:</label> 
      <span>{{detailCourse.teacher.preferredName}}</span>
    </div>
    <div>
      <label class="detail-label">Quizwerkz:</label> 
      <label *ngFor="let pdf of detailCourse.quizwerkz;let isLast=last" class="repeatday">
        {{ pdf.name }}{{isLast ? '' : ', '}}
        <!-- <span *ngIf="pdf?.length > 0">{{ pdf.name }}{{isLast ? '' : ', '}}</span>
        <span *ngIf="pdf?.length == 0">-</span> -->
      </label>
      <label *ngIf='detailCourse.quizwerkz.length === 0'> - </label>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-cancel" (click)="c('Close click')">Cancel</button>
  </div>
</ng-template>

<!-- <ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4>{{code}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div>
      <button type="button" class="btn btn-primary" ()>+ Add User</button>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Close</button>
  </div>
</ng-template> -->

<!-- <button class="btn btn-lg btn-outline-primary" (click)="changeRoute()">Course Create</button> -->
<!-- <app-courseplan></app-courseplan> -->

<!-- <ul class="nav nav-tabs" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" href="#category" role="tab" data-toggle="tab">Category</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#courseplan" role="tab" data-toggle="tab">Courseplan</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#course" role="tab" data-toggle="tab">Course</a>
  </li>
</ul> -->

<!-- Tab panes -->
<!-- <div class="tab-content">
  <div role="tabpanel" class="tab-pane fade in active" id="category">
      <div class="scrollable container">
          <ul class="list-group-flush">  
            <li class="list-group-item">
              Swimming
              <button type="button" class="btn btn-secondary float-right btn-sm margin-left" data-toggle="modal" data-target="#locationModal" (click)="editLocationInfo(location._id)">Edit</button>
              <button type="button" class="btn btn-secondary float-right btn-sm margin-left" (click)="deleteLocation(location._id)">Delete</button>
            </li>
           
          </ul>
          
        </div> 
  </div>
  <div role="tabpanel" class="tab-pane fade" id="courseplan">
      <div class="scrollable container">
          <ul class="list-group-flush">  
            <li class="list-group-item">
              Piano
              <button type="button" class="btn btn-secondary float-right btn-sm margin-left" data-toggle="modal" data-target="#locationModal" (click)="editLocationInfo(location._id)">Edit</button>
              <button type="button" class="btn btn-secondary float-right btn-sm margin-left" (click)="deleteLocation(location._id)">Delete</button>
            </li>
          
          </ul>
        </div> 
  </div>
  <div role="tabpanel" class="tab-pane fade" id="course">
      <div class="scrollable container">
          <ul class="list-group-flush">  
            <li class="list-group-item">
              Guiter
              <button type="button" class="btn btn-secondary float-right btn-sm margin-left" data-toggle="modal" data-target="#locationModal" (click)="editLocationInfo(location._id)">Edit</button>
              <button type="button" class="btn btn-secondary float-right btn-sm margin-left" (click)="deleteLocation(location._id)">Delete</button>
            </li>
            
          </ul>
        </div> 
  </div>
</div>
 -->




