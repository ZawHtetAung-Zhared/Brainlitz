<!-- <app-coursecreate></app-coursecreate> -->
<app-header *ngIf="!isCategory && !isPlan" [ngClass]="{'stick': isSticky == true}"></app-header>
<div class="inner-wrapper" *ngIf="!isCategory && !isPlan && !isCourseDetail" [ngClass]="{'active': isSticky == true}">
  <block-ui message="Deafult Message"></block-ui>
  <div class="card-container">
    <div class="title"><h3 class="header-font">Courses</h3></div>
    <div class="card-columns">
      <div class="card btn-card">
        <button class="btn btn-large" (click)="changeRoute()"><span class="addCourseBtn">+</span> <span class="btn-largeLabel">Add new course plan</span></button>
      </div>
      <div *ngFor="let courseGroup of courseList">
        <div class="card card-wrap">
          <div class="header">
            <div>
              <label class="category semibold">
                #{{ courseGroup.coursePlan.category.name }}
              </label>
            </div>
            <h5 class="medium-font">{{ courseGroup.coursePlan.name }}</h5>
            <div class="d-flex header-info light-font">
              {{ courseGroup.coursePlan.seats }} seats
              <ul><li>{{ courseGroup.coursePlan.lesson.duration | minuteSeconds }} duration</li></ul>
            </div>
          </div>
          <div>
            <div *ngFor="let course of courseGroup.courses">
              <div class="d-flex course-wrap">
                <div *ngIf="course.seat_left > 0" class="absolute">
                  {{ course.seat_left }} seats left
                </div>
                <div *ngIf="course.seat_left == null || course.seat_left == 0 || course.seat_left == -1" class="no-seat">
                  All seats taken
                </div>
                <div class="date-wrap">
                  <div class="startDate-wrap">
                    <span class="medium-font">From</span>
                    <div class="semibold">{{course.startDate | date}}</div>
                  </div>
                  <div *ngIf = "course.endDate">
                    <span class="medium-font">To</span>
                    <div class="semibold">{{course.endDate | date}}</div>
                  </div>
                  <div *ngIf = "course.lessonCount">
                    <span class="semibold">{{ course.lessonCount }}</span>
                    <div class="medium-font">Lessons</div>
                  </div>
                </div>
                <div class="course-info">
                  <div class="course-detail">
                    <div>
                      <label class="category item-width semibold">
                        <i class="fa fa-map-marker" style="font-size:15px"></i>
                        <span>{{ course.location.name }}</span>
                      </label>
                    </div>
                    <h5 (click)="showCourseDetail(course._id)" class="course-label">{{ course.name }}</h5>
                    <span class="staff-info medium-font">by {{ course.teacher.preferredName }} 
                    <!-- <ul><li>0 staff</li></ul> -->
                    </span>
                  </div>
                  <div class="second-info">
                    <div class="time-wrap">
                      <span class="semibold" *ngFor="let day of course.repeatDays | weekDays">
                        {{ day }}
                      </span>
                      <div class="medium-font time-color">
                        {{ course.courseDuration.starttime | convertTimeFormat }} - {{ course.courseDuration.endtime | convertTimeFormat }}
                      </div>
                    </div>
                    <div class="btnCustomer-wrap">
                      <button class="btn-addC" (click)="assignUser(course)"><span class="btn-plusicon"> + </span> Add customer</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="link-wrap">
            <a class="link-btn" (click)="addNewCourse(courseGroup.coursePlan)">Add new course</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <span class="scrollup" [ngClass]="{'show': showBtn}" (click)="scrollTop()"><i class="fa fa-chevron-up" style="color: #fff;"></i></span> -->
</div> 

<app-category class="category-content" *ngIf="isCategory == true"></app-category>
<app-courseplan class="category-content" *ngIf="isPlan == true"></app-courseplan>

<div class="inner-wrapper" *ngIf="isCourseDetail == true">
  <div class="back-wrap d-flex justify-content-between">
    <div class="back-to" (click)="cancel()">
      <i class="fa fa-angle-left"></i>
      <p>Courses</p>
    </div>
    <a class="edit-course-btn" (click)="editOn()">Edit course</a>
  </div>
  <div>
    <div class="d-flex flex-row">
      <div class="col-md-6">
        {{detailLists.name}}
      </div>
      <div class="col-md-6">
        
      </div>
    </div>
  </div>
</div>

