<div *ngIf="!isExpand" class="d-flex flex-column">
  <div class="d-flex align-items-center mt-4">
    <span class="mastery-title">Mastery reports</span>
    <span class="sw-wrap"> <img src="./assets/img/tiny-brainlitz.svg"/></span>
  </div>
  <div *ngFor="let report of masteriesReports; let i = index">
    <div class="d-flex">
      <div class="mt-4 mb-4" style="width: 30%">
        <div class="d-flex flex-column">
          <span class="mastery-title"> {{ report.name }} </span>
          <span class="light-txt">
            <!-- {{ report.data.length }} masteries  -->
            {{ report.totalMasteryCount }} masteries
          </span>
          <button
            class="btn-detail btn mt-4"
            (click)="expandGraph(report.id)"
            routerLinkActive="active"
            routerLink="/masteriesdetail/{{ report.id }}"
          >
            View detail
          </button>
        </div>
      </div>
      <div
        id="{{ report.id }}"
        class="mt-4 mb-4 ml-2"
        style="width:70%; min-height: 200px;"
        (click)="expandGraph(report.id)"
        routerLinkActive="active"
        routerLink="/masteriesdetail/{{ report.id }}"
      ></div>
    </div>
    <div *ngIf="i < masteriesReports.length - 1" class="split-line"></div>
  </div>
  <div class="footer d-flex justify-content-center align-items-center">
    <div class="d-flex color-wrap">
      <div class="color-box" style="background: #BF2926;"></div>
      <span class="color-txt"> Struggling </span>
    </div>
    <div class="d-flex color-wrap">
      <div class="color-box" style="background: #EDEEF0;"></div>
      <span class="color-txt"> Not started </span>
    </div>
    <div class="d-flex color-wrap">
      <div class="color-box" style="background: #D4D5D6;"></div>
      <span class="color-txt"> In conslusive </span>
    </div>
    <div class="d-flex color-wrap">
      <div class="color-box" style="background: #6DC000;"></div>
      <span class="color-txt"> Mastered w/ difficulties </span>
    </div>
    <div class="d-flex color-wrap">
      <div class="color-box" style="background: #4FDD00;"></div>
      <span class="color-txt"> Mastered w/ ease </span>
    </div>
  </div>
</div>

<div *ngIf="isExpand">
  <!-- <div class="d-flex">
    <span (click)="getAllGraph()"> Mastery reports </span>
  </div> -->
</div>

<router-outlet></router-outlet>
