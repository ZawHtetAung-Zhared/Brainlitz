<div class="inner-wrapper">
<!-- <button class="btn btn-lg btn-outline-primary" (click)="showPlanlist()">Course Create</button> -->
	<div class="list-wrap" *ngIf="!showCourse">
		<div class="form-group">
			<h4 class="mb-30">Choose Course Plan</h4>
		</div>
		<div class="form-group">
			<ul class="item-list" style="padding-left: 0;">
			     <li *ngFor="let plan of coursePlan">
			     	<!-- <label class="container">
			     		<input type="radio" name="cplan" [value]="plan" #cplan [(ngModel)]="choosePlan">
			     		{{plan.name}}
			     	</label>  -->
			     	<label class="radio-container">{{plan.name}}
					  <input type="radio" id="{{plan._id}}" [(ngModel)]='checked' (click)="checkedData(plan)" name="cplan" value="{{plan.name}}">
					  <span class="checkmark"></span>
					</label>
			     </li>
			</ul>
		</div>
		<div class="form-group btn-wrap">
			<button type="button" class="btn btn-light1 newbtn" (click)="cancel()">Cancel</button>
		    <button type="button" class="btn btn-primary" (click)="selectCoursePlan(choosePlan)" [disabled]="!choosePlan">Select</button>
		</div>
	</div>

	<block-ui message="Deafult Message">
	</block-ui>

	<div class="form-container container h-100" *ngIf="showCourse">
		<div *blockUI="'contact-list'">
			<div>
				<button *ngIf="!isEdit" class="btn btn-info" (click)="back()">Back</button>
			</div>
			<form #heroForm="ngForm">
				<div class="form-head">
					<div class="label-input">
						<h4>Create Course</h4>
					</div>
					<div class="form-input"> 
						<label class="label-location">Choose Location</label>
						<select class="form-control" id="user"
				        [(ngModel)]="model.locationId" name="location" #location="ngModel" required>
				          <option value="" disabled="true">Select Location</option>
				          <option [disabled]="isEdit" *ngFor="let location of locationList" [value]="location._id">{{location.name}}</option>
				        </select>
					</div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">Course Plan</label>
					<span>{{model.coursePlanName}}</span>
					<!-- <span  *ngIf="coursePlanName">{{coursePlanName}}</span>  -->
					<span style="margin-left: 20px;">({{coursePlanId}})</span>
					<!-- <input type="text" class="form-control new-input" id="coursePlanId" [(ngModel)]="model.coursePlanId" name="coursePlanId" #coursePlanId="ngModel" readonly> -->
				</div>
				<div class="form-group form-head">
					<label class="label-input">Course Name</label>
					<div class="new-input">
						<input type="text" class="form-control" id="courseName" required [(ngModel)]="model.name" name="courseName" #courseName="ngModel">
						<div [hidden]="courseName.valid || courseName.pristine" class="alert alert-danger">
						  Course Name is required
						</div>
					</div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">Start:</label>
					<div class="flex-item">
				      <input [disabled]="isEdit" type="text" id="startD" name="txt" class="image form-control" placeholder="Start Date" name="start" required [(ngModel)]="model.start" (click)="start.toggle()" (ngModelChange)="setMinDate($event)" [maxDate]="maxDate" [autoClose]="true" ngbDatepicker #start="ngbDatepicker">
						  <div class="overlay" (click)="start.toggle()"><img src="./assets/img/calendar.png"></div>
				    </div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">Start Time</label>
					<input *ngIf="!isEdit" style="width: 150px;" id="test1" class="form-control" name="starttime" type="time" value="10:40" [(ngModel)]="model.starttime" #starttime="ngModel" (ngModelChange)="calculateDuration(model.starttime)" required />
					<input *ngIf="isEdit" readonly style="width: 150px;" id="test1" class="form-control" name="starttime" type="time" value="10:40" [(ngModel)]="model.starttime" #starttime="ngModel" (ngModelChange)="calculateDuration(model.starttime)" required />
				</div>
				<div class="form-group form-head">
					<label *ngIf="!isEdit" class="label-input">Duration:</label>
					<label *ngIf="isEdit" class="label-input">Duration Times:</label>
					<div class="new-input">
						<div style="margin: 0px 0px 5px 0px">
							<input class="form-control" type="num" name="duration" [(ngModel)]="model.durationTimes" readonly>
						</div>
						<div *ngIf="classend" class="flex-item">
							<label>-will end at {{classend}}</label>
						</div>
					</div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">Repeat Days</label>
					<div>
						<label class="day" *ngFor="let d of days;let i=index;" >
			                <input type="checkbox" id=i+1 name="{{d.day}}" value={{d.val}} (change)="selectDay(d.val, $event)" [checked]="selectedDay.indexOf(d.val) != -1" [disabled]="isEdit"> {{d.day}}
			            </label>
					</div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">ENDS</label>
					<div class="new-input">
						<div>
							<label>
								<input type="radio" [(ngModel)]= "model.prop" name="prop" value="A" (click)="model.end = null"> Lessons Count
							</label>
						</div>
						<div class="lesson-wrap" *ngIf="model.prop === 'A'">
							After <input *ngIf="!isEdit" type="number" name="lesson" [(ngModel)]="model.lessonCount" #lesson="ngModel">
							<input  *ngIf="isEdit" type="number" name="lesson" [(ngModel)]="model.lessonCount" #lesson="ngModel" readonly> lessons
						</div>
						<div>
							<label><input [disabled]="isEdit" type="radio" [(ngModel)]="model.prop" name="prop" value="B" (click)="model.lessonCount = ''"> End Date </label>
						</div>
						<div class="enddate-wrap" *ngIf="model.prop === 'B'">
							on <div class="end-item">
								<input [disabled]="isEdit" type="text" name="txt" class="image form-control" placeholder="End Date" (ngModelChange)="setMaxDate($event)" [minDate]="minDate" [autoClose]="true" name="end" [(ngModel)]="model.end" (click)="end.toggle()" ngbDatepicker #end="ngbDatepicker">
								  <div class="overlay" (click)="end.toggle()"><img src="./assets/img/calendar.png"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">Pdf</label>
					<div class="new-input chklist-wrap">
			            <label *ngFor="let pdf of pdfList;let i=index;">
			                <input type="checkbox" id=i+1 name="{{pdf.name}}" value={{pdf._id}} (change)="selectPdf(pdf._id, $event)" [checked]="cbChecked.indexOf(pdf._id) != -1"> {{pdf.name}}
			            </label>
					</div>
					<!-- {{cbChecked | json}} -->
				</div>
				<div class="form-group form-head">
					<label class="label-input">Teacher Name</label>
					<select class="form-control new-input"
			        required [(ngModel)]="model.teacherId" name="teacherId" #teacherId="ngModel">
			          <option value="" disabled="true">Select teacher Id</option>
			          <option [disabled]="isEdit" *ngFor="let user of users; let i = index" [value]="user.userId">{{user.preferredName}}</option>
			        </select>
			       <!--  <div [hidden]="teacherId.valid || teacherId.pristine" class="alert alert-danger">
					  Teacher Name is required
					</div> -->
				</div>
				<div class="form-group form-head">
					<label class="label-input">Course Code</label>
					<div class="new-input">
						<input *ngIf="!isEdit" type="text" class="form-control" id="courseCode" required [(ngModel)]="model.courseCode" name="courseCode" #code="ngModel">
						<input *ngIf="isEdit" readonly type="text" class="form-control" id="courseCode" required [(ngModel)]="model.courseCode" name="courseCode" #code="ngModel">
						<!-- <div [hidden]="code.valid || code.pristine" class="alert alert-danger">
						  Course Code is required
						</div> -->
					</div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">Room</label>
					<div class="new-input">
						<input *ngIf="!isEdit" type="text" class="form-control" id="room" [(ngModel)]="model.room" name="room">
						<input *ngIf="isEdit" readonly type="text" class="form-control" id="room" [(ngModel)]="model.room" name="room">
					</div>
				</div>
				<div class="form-group form-head">
					<label class="label-input">Reserved Number of Seat</label>
					<input *ngIf="!isEdit" type="number" class="form-control new-input" id="regionId" [(ngModel)]="model.reservedNumberofSeat" name="regionId">
					<input *ngIf="isEdit" readonly type="number" class="form-control new-input" id="regionId" [(ngModel)]="model.reservedNumberofSeat" name="regionId">
				</div>
				<div class="form-group form-head">
					<label class="label-input">Description</label>
					<div class="new-input">
						<textarea row="7" col="50" class="form-control" id="description" required [(ngModel)]="model.description" name="description" #description="ngModel"></textarea>
						<div [hidden]="description.valid || description.pristine"
						     class="alert alert-danger">
						  Description is required
						</div>
					</div>
				</div>
				<div class="form-group" style="float: right;">
					<button type="button" class="btn btn-light1 newbtn" (click)="cancel()">Cancel</button>
					<button *ngIf="!isEdit" type="button" class="btn btn-primary" (click)="createCourse()" [disabled]="!heroForm.form.valid || toggleBool || !model.lessonCount && !model.end">Submit</button>
					<button *ngIf="isEdit" type="button" class="btn btn-primary" (click)="updateCourse(model._id)" [disabled]="!heroForm.form.valid">Update</button>
				</div>
			</form>
		</div>
	</div>
</div>