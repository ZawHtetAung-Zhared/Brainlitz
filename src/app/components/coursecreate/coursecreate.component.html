<div id="navbar">
	<div class="d-flex justify-content-between">
		<div class="d-flex justify-content-center flex-column">
			<div class="d-flex back" (click)="backToCourses()">
				<i class="fa fa-angle-left"></i>
			    <p class="mb-0 font-medium">Courses</p>
			</div>
		</div>
		<div>
			<div><h5 class="mb-0 nav-title font-semi text-center">Create course</h5></div>
			<div class="d-flex flex-row courseInfo font-medium">
				<p class="mb-0">Plan</p><span class="sticky-dot">&#183;</span><p class="mb-0">{{ coursePlan.name }}</p>	
			</div>
		</div>
		<div class="d-flex justify-content-center flex-column">
			<div>
		        <button type="button" class="btn button-savedraft font-medium" [disabled]="!courseForm.form.valid">Save Draft</button>
		        <button type="button" class="btn button-submit font-medium" [disabled]="!courseForm.form.valid">Publish</button>
	        </div>
		</div>
	</div>
</div>
<div class="create-container">
	<div class="header-wrapper">
		<header>
			<div class="d-flex justify-content-between">
				<div class="d-flex back" (click)="backToCourses()">
					<i class="fa fa-angle-left"></i>
				    <p class="mb-0 font-medium ">Courses</p>
				</div>
				<!-- <div class="d-flex flex-row courseInfo font-medium">
					<p class="mb-0">#{{ coursePlan.name }}</p><span class="sticky-dot">&#183;</span>		
					<h5 class="mb-0">Course</h5>
				</div> -->
				<div class="font-medium">
					<button class="btn-cancel" (click)="backToCourses()">Cancel</button>
				</div>
			</div>
		</header>
	</div>
	<form #courseForm="ngForm" novalidate>
		<div class="info-wrap">
			<h3 class="font-semi">Create Course</h3>
			<div class="d-flex courseInfo font-medium">
				<p class="mb-0">Plan</p><span class="sticky-dot">&#183;</span><p class="mb-0">{{ coursePlan.name }}</p>
			</div>
		</div>
		<div class="d-flex step-wrapper">
			<div class="col-md-5">
				<label class="all-title-font">Course Information</label>
				<p class="info-p font-medium">
					Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard 
				</p>
			</div>
			<div class="col-md-7">
				<div>
					<div class="d-flex justify-content-between">
						<label for="course_name" class="all-title-font">Course name</label>
						<div class="limit-wordcount">
							<span>{{wordLength}}/60characters</span>
						</div>
					</div>
					<input class="form-control br-bshadow-none all-left-box-10" type="text" (focus)="focusMethod($event)" (blur)="blurMethod($event)" maxlength="60" (input)="changeMethod($event.target.value)" name="coursename" placeholder="Type course name here" [(ngModel)]="model.name" #courseName="ngModel" required>
					<div *ngIf="courseName.invalid && (courseName.dirty || courseName.touched)" class="alert alert-danger alert-m-right">
				        <div [hidden]="!courseName.errors.required">
				          Course name is required!
				        </div>
				    </div>
				    <hr class="limit-hr-length">
				</div>
				<div>
					<label for="seat" class="all-title-font">Course Code</label>
					<input type="text" placeholder="Type relevant course code here" class="form-control br-bshadow-none all-left-box-10" id="courseCode" name="courseCode" [(ngModel)]="model.courseCode" required #code="ngModel"> 
					<div *ngIf="code.invalid && (code.dirty || code.touched)" class="alert alert-danger alert-m-right">
				        <div [hidden]="!code.errors.required">
				          Course code is required!
				        </div>
				    </div>
					<hr class="limit-hr-length">
				</div> 
				<div>
					<label for="desc" class="all-title-font">Description</label>
					<textarea class="form-control br-bshadow-none all-left-box-10" rows="5" id="description" [(ngModel)]="model.description" name="description" required #description="ngModel" placeholder="Type description here"></textarea>
				</div>
			</div>
		</div>
		<hr class="hr-line">
		<div class="d-flex step-wrapper">
			<div class="col-md-5">
				<label class="all-title-font">Time range & Teacher</label>
				<p class="info-p font-medium">
					Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard 
				</p>
			</div>
			<div class="col-md-7">
				<div class="d-flex">				
					<div class="col-md-6 p-0">
						<label for="course_name" class="all-title-font">Starts</label>
						<div class="input-wrap">
							<input type="text" placeholder="Start date" class="input-day" name="start" required [(ngModel)]="model.start" (click)="start.toggle()" (ngModelChange)="setMinDate($event)" [maxDate]="maxDate" [autoClose]="true" ngbDatepicker #start="ngbDatepicker">
						</div>
					</div>
					<div class="col-md-6 p-0">
						<label for="course_name" class="all-title-font">Ends</label>
						<div>
							<div class="tool-box">
								<label [ngClass]="{'selected':isChecked == 'end'}" class="mb-0 font-semi"><input type="radio" name="prop" (click)="chooseEndOpt('end')"> End Date </label>
								<label [ngClass]="{'selected':isChecked == 'lesson'}" class="mb-0 font-semi">
									<input type="radio" [(ngModel)]= "model.prop" name="prop" (click)="chooseEndOpt('lesson')"> Lessons Count
								</label>
							</div>
						</div>
						<div *ngIf="isChecked == 'end'">
							<input class="input-lesson" type="text" placeholder="End date" (ngModelChange)="setMaxDate($event)" [minDate]="minDate" [autoClose]="true" name="end" [(ngModel)]="model.end" (click)="end.toggle()" ngbDatepicker #end="ngbDatepicker">
						</div>
						<div *ngIf="isChecked == 'lesson'">
							<input class="input-lesson" type="text" type="number" name="lesson" placeholder="Lesson Count" [(ngModel)]="model.lessonCount" #lesson="ngModel">
						</div>
					</div>
				</div>
				<div class="d-flex step-wrapper">
					<div class="col-md-6 p-0">
						<label for="course_name" class="all-title-font">Starting Time</label>
						<div class="input-wrap">
							<input type="text" placeholder="Start time" class="input-day" name="starttime" required [(ngModel)]="model.starttime" readonly (click)="durationProgress($event)" style="background: none;">
							<div class="bg-box duration-progress">
								<div id="rectangle"></div>
								<div class="time-wrapper d-flex justify-content-center">
									 <div class="d-flex flex-column justify-content-center showTime font-medium">
									 	{{showFormat}}
									 </div>
									 <div>
									 	<div class="time-box">
											<label [ngClass]="{'selected':isSelected == 'AM'}" class="mb-0 font-semi"><input type="radio" name="prop" (click)="chooseTimeOpt('AM')"> AM </label>
											<label [ngClass]="{'selected':isSelected == 'PM'}" class="mb-0 font-semi">
												<input type="radio" [(ngModel)]= "model.prop" name="prop" (click)="chooseTimeOpt('PM')"> PM
											</label>
										</div>
									 </div>
								</div>
								<div class="gap-box">
									<label>
										<div class="col-md-4 max-range">Hour</div>
										<input class="max-range-box" type="range" id="hrDuration" name="pointsHr" min="0" max="12" (input)="ChangedRangeValue($event.target.value, 'hr')" [(ngModel)]="rangeHr">
										
									</label>
								</div>
								<div class="gap-range-min">
									<label>
										<div class="col-md-4 min-range">Minute</div>
										<input class="min-range-box" type="range" id='minDuration' name="pointsMin" min="0" max="59" step="1" (input)="ChangedRangeValue($event.target.value, 'min')" [(ngModel)]="rangeMin">
										<!-- <p *ngIf="overDurationHr" class="alert-duration"> has only 12, so can not choose minute. </p> -->
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-6 p-0">
						<label for="course_name" class="all-title-font">Duration</label>
						<!-- <div class="input-wrap form-group" (click)="dropDown()">
						<input class="form-control bg-color" name="UserName"  type="text" [(ngModel)]="{{model.durationTimes}}" readonly><span class="fa fa-angle-down form-control-feedback test-input"></span>
						</div> -->
						<div class="d-flex justify-content-between time-dropdown font-semi" (click)="dropDown()">
							{{this.model.durationTimes}} min
							<span class="fa fa-angle-down d-flex justify-content-center flex-column icon"></span>
						</div>
						<div class="dropdown-wrap">
				          <ul class="duration-dropdown">
				            <li *ngFor="let test of testList">
				              <span (click)="onClickDuration(test)">{{ test }} min</span>
				            </li>
				          </ul>
				        </div>
				        <div *ngIf="classend" class="msg font-medium">It will end at {{ classend }}</div>
					</div>
				</div>
				<div class="checkboxes-wrapper">
					<label class="all-title-font">Repeated days</label>
					<div>
						<div>
							<span *ngFor="let d of days">
								<label class="day" [ngClass]="{'active-label': selectedDay.indexOf(d.val) != -1}">
									<!-- <span><i class="fa fa-check"></i></span> -->
									<div *ngIf="selectedDay.indexOf(d.val) == -1" class="rounded-box"></div> 
								    <div *ngIf="selectedDay.indexOf(d.val) != -1" class="rounded-checked"><i  class="fa fa-check"></i></div> 
									
					                <input type="checkbox" class="regular-checkbox" name="{{d.day}}" value={{d.val}} (change)="selectDay(d.val, $event)" [checked]="selectedDay.indexOf(d.val) != -1" [disabled]="isEdit">
					                <div class="box-label">{{d.day}}</div>
					            </label>
							</span>
						</div>
					</div>
				</div>
				<div>
					<label for="course_name" class="all-title-font">Teacher</label>
				    <div class="d-flex justify-content-between time-dropdown font-semi  m-0" (click)="searchDropdown()">
						<span *ngIf="!selectedTeacher" class="font-regular caption">Type teacher name</span>
						<div class="d-flex" *ngIf="selectedTeacher">
							<span class="img-wrap"><img src="{{  selectedTeacher.profilePic }}"></span><span class="d-flex flex-column justify-content-center pad-left-5">{{ selectedTeacher.preferredName }}</span>
						</div>
						<span *ngIf="!selectedTeacher" class="fa fa-angle-down d-flex justify-content-center flex-column icon"></span>
						<span *ngIf="selectedTeacher" class="d-flex justify-content-center flex-column">	
							<img src="./assets/images/swap-ico.png">		
						</span>
					</div>
					<div class="search-dropdown">
						<div class="d-flex flex-column">
							<div class="teacher-list-box">
								<div class="d-flex">
									<input 
									  class="form-control py-2 input-dropdown" 
									  type="search" 
									  placeholder="Type teacher name" id="myInput" 
									  name="search" 
									  #search="ngModel" 
									  [(ngModel)]="model.teacherSearch" 
									  (focus)="focusInputMethod($event, 'staff', 'teacher')"
									  (focusout)="hideFocus($event, 'teacher')"
									  (input)="changeInputMethod($event.target.value)"s>
								</div>
								<div class="list-wrap">
									<div (click)="chooseUser(user,'teacher')" *ngFor="let user of userLists" class="d-flex flex-row search-user justify-content-center align-items-center">
									  <div class="single-user-info d-flex flex-column justify-content-center">
									    <h4>{{user.preferredName}}</h4>
									  </div>
									  <div class="ml-auto remover-wrap">
									    <div class="add-user d-flex justify-content-end"></div>
									  </div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div>
					<label for="course_name" class="all-title-font">Assistants</label>
					<div class="d-flex flex-column" style="position: relative;">
						<div class="d-flex">
							<input 
							  class="form-control py-2 input-search-bg" 
							  type="search" 
							  placeholder="Add assistants by searching" 
							  id="example-search-input" 
							  name="search" 
							  #search="ngModel" 
							  [(ngModel)]="model.assistantSearch" 
							  (focus)="focusInputMethod($event, 'staff','assistant')"
							  (focusout)="hideFocus($event,'assistant')"
							  (input)="changeInputMethod($event.target.value)">
							<span class="input-group-append">
							  <button class="bt btn-design btn-outline-secondary" type="button">
							      <i class="fa fa-search search-size"></i>
							  </button>
							</span>
						</div>
						<div class="user-list-box" *ngIf="isFocus == true">
							<div (click)="chooseUser(user,'assistant')" *ngFor="let user of userLists" class="d-flex flex-row search-user justify-content-center align-items-center">
							  <div class="single-user-info d-flex flex-column justify-content-center">
							    <h4>{{user.preferredName}}</h4>
							  </div>
							  <div class="ml-auto remover-wrap">
							    <div class="add-user d-flex justify-content-end"></div>
							  </div>
							</div>
						</div>
					</div>
					<div class="mt-20">
				      <div class="d-flex flex-wrap" *ngIf="selectedUserLists.length > 0">
				        <div *ngFor="let user of selectedUserLists">
				          <div class="d-flex flex-row single-user font-semi justify-content-center align-items-center">
				            <div class="img-wrap">
				              <img src="{{user.profilePic}}">
				            </div>
				            <div class="single-user-info d-flex flex-column justify-content-center">
				              <label class="mb-0">{{user.preferredName}}</label>
				            </div>
				            <div class="ml-auto remover-wrap single-user-info">
				              <div class="remove-user d-flex justify-content-end" (click)="removeSelectedUser(user.userId)"></div>
				            </div>
				          </div>
				        </div>
				      </div>
				    </div>
				</div>
			</div>
		</div>
		<hr class="hr-line">
		<div class="d-flex step-wrapper">
			<div class="col-md-5">
				<label class="all-title-font">Venue</label>
				<p class="info-p font-medium">
					Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard 
				</p>
			</div>
			<div class="col-md-7">
				<div>
					<label for="location" class="all-title-font">Location</label>
					<!-- <input type="text" class="form-control br-bshadow-none all-left-box-10" [(ngModel)]="model.locationId" name="location" #location="ngModel" required>  -->
					<div>
						 <div class="form-group has-feedback" (click)="locationDropdown()">
					    	<input class="form-control br-bshadow-none"  name="UserName"  type="text" placeholder="username" [(ngModel)]="model.location" placeholder="None"><span class="fa fa-angle-down down-icon"></span>
					     </div>
					     <div class="dropdown-wrap">
				          <ul class="location-dropdown">
				            <li *ngFor="let item of locationList">
				              <span (click)="chooseLocation(item)">{{item.name}}</span>
				            </li>
				          </ul>
				        </div>
					</div>
					<hr class="limit-hr-length">
				</div> 
				<div>
					<label for="room" class="all-title-font">Room</label>
					<input type="text" class="form-control br-bshadow-none all-left-box-10" placeholder="Type room name" id="room" name="room" [(ngModel)]="model.room" required #room="ngModel"> 
					<div *ngIf="room.invalid && (room.dirty || room.touched)" class="alert alert-danger alert-m-right">
				        <div [hidden]="!room.errors.required">
				          Room is required!
				        </div>
				    </div>
					<hr class="limit-hr-length">
				</div> 
				<div>
					<label for="seat" class="all-title-font">Reserved seat</label>
					<input type="number" class="form-control br-bshadow-none all-left-box-10" placeholder="0" id="seat" [(ngModel)]="model.reservedNumberofSeat" name="seat" (keypress)="numberOnly($event)" #seat="ngModel"> 
					<div [hidden]="!testChar" class="alert alert-danger">
						Only Numbers Allowed
					</div>
				</div> 
			</div>
		</div>
		<hr class="hr-line">
		<div class="col-md-12 step-wrapper">
			<span class="number-wrap font-medium">16</span><label class="conflit-title font-medium">Conflicts</label>
			<div class="d-flex">
				<span class="round-number font-medium">6</span>
				<span class="image-wrap">
					<img src="https://brainlitz-dev.s3.amazonaws.com/profile/153743702082858825712_original.jpg">
				</span>
				<div class="pad-left-10">
					<div class="label-12 font-regular">Senior Teacher</div>
					<div class="name-label font-semi">Arron Wamsley</div>
				</div>
			</div>
			<div class="d-flex font-medium msg-padding">
				<span class="round-icon">!</span>
				<div class="pad-left-10 warning-msg">Conflict on the following lessons</div>
			</div>
			<div class="conflit-wrapper" *ngFor="let conflit of testConflitsArr">
				<div class="d-flex column-wrap">
					<div class="flex-item">
						<div class="name-label font-medium">
							{{ conflit.date }}
						</div>
						<div class="label-12 font-medium">
							{{ conflit.time }}
						</div>
					</div>
					<div class="flex-item">
						<div class="item-label font-medium">Lesson</div>
						<div class="name-label font-medium">{{ conflit.lesson }}</div>
					</div>
					<div class="flex-item">
						<div class="item-label font-medium">Location</div>
						<div class="name-label font-medium">{{ conflit.location }}</div>
					</div>
					<div class="flex-item">
						<div class="item-label font-medium">Number of students</div>
						<div class="name-label font-medium">{{ conflit.studentCount }}</div>
					</div>
				</div>
				<hr class="hr-line">
				<div class="d-flex btn-wrap">
					<div class="skip-btn font-medium">Skip</div>
					<div class="ignore-btn font-medium">Ignore</div>
				</div>
			</div>
			<div class="d-flex allbtn-wrap">
				<div class="skipAll font-medium">Skip all</div>
				<div class="cancelAll font-medium">Ignore all</div>
			</div>
		</div>
		<hr class="hr-line">
		<div class="col-md-12 step-wrapper">
			<div class="d-flex">
				<span class="round-noconflit font-medium">0</span>
				<span class="image-wrap">
					<img src="https://brainlitz-dev.s3.amazonaws.com/profile/153743838881879518777_original.jpg">
				</span>
				<div class="pad-left-10">
					<div class="label-12 font-regular">Teacher</div>
					<div class="name-label">John Snow</div>
				</div>
			</div>
			<div class="d-flex font-medium msg-padding">
				<span class="d-flex justify-content-center flex-column icon-wrap"><img src="./assets/images/circle-check-green@2x.png"></span>
				<div class="pad-left-10 noconflit-msg">No conflict on any lessons</div>
			</div>
		</div>
		<hr class="hr-line">
		<div class="col-md-12 step-wrapper">
			<div class="d-flex">
				<div id="parent">
					<img src="./assets/images/timetable-ico.png">
				</div>
				<span class="name-label font-semi">Timetable</span>
			</div>
			<div class="timetable-wrapper">
				<div class="d-flex timetable">
					<div class="flex-item1">
						<div class="item-label font-medium">Lesson</div>
						<div class="name-label font-medium">Test</div>
					</div>
					<div class="flex-item2">
						<div class="item-label font-medium">Location</div>
						<div class="name-label font-medium">Hello</div>
					</div>
					<div class="flex-item2">
						<div class="item-label font-medium">Number of students</div>
						<div class="name-label font-medium">Test</div>
					</div>
				</div>
				<hr class="hr-line">
				<div class="d-flex btn-wrap">
					<div class="detailBtn font-medium">View details</div>
				</div>
			</div>
		</div>
		<hr class="hr-line">
		<div class="d-flex justify-content-between form-footer">
			<div class="d-flex justify-content-center flex-column">
				<div class="font-medium">
					<button class="btn-cancel" (click)="backToCourses()">Cancel</button>
				</div>
			</div>
			<div>
		        <button type="button" class="btn button-savedraft font-medium" [disabled]="!courseForm.form.valid">Save Draft</button>
		        <button type="button" class="btn button-submit font-medium" [disabled]="!courseForm.form.valid">Publish</button>
	        </div>
        </div>
	</form>
</div>
